/*!
 * retable 0.0.3
 * Transform table for mobile
 * https://github.com/TrySound/retable
 * 
 * Released under the MIT license
 * Copyright (c) 2015, Bogdan Chadkin <trysound@yandex.ru>
 */
!function(e,n){function o(e,o){var l,r=n.querySelectorAll(e);for(l=r.length-1;l>-1;l--)t(r[l],o||{})}function t(e,o){var t=i.cloneNode(),a=s.cloneNode(),f=e.getAttribute("data-"+c+"-type")||o.type,h=e.getAttribute("data-"+c+"-caption")||o.caption,N=n.createDocumentFragment();r(e),"function"==typeof p[f]&&e.rows.length>1&&e.rows[0].cells.length>1&&(-1===e.className.split(" ").indexOf(c)&&(e.className+=(e.className?" ":"")+c),e.caption&&(a.innerHTML=e.caption.innerHTML,t.appendChild(a)),p[f](e,N,d.cloneNode(),l(e),h),t.appendChild(N),e.parentNode.insertBefore(t,e.nextSibling))}function l(e){for(var n=e.rows[0].cells,o=0,t=n.length-1;t>-1;t--)o+=n[t].colSpan;return o}function r(e){var n=e.nextElementSibling;n&&n.className.split(" ").indexOf(c+"-container")>-1&&n.parentNode.removeChild(n)}function a(e,n){return n.insertBefore(e,n.firstChild)}var c="retable",i=n.createElement("div"),s=n.createElement("header"),d=n.createElement("table");i.className=c+"-container",s.className=c+"-caption",d.className=c+"-table";var p={row:function(e,n,o,t,l){var r,c,i,s,d,p=e.rows,f=p[0].cells;for(c=f.length-1;c>(l?0:-1);c--)o.insertRow(0).appendChild(f[c].cloneNode(!0));for(c=p.length;--c;)for(d=a(o.cloneNode(!0),n),r=d.rows,l&&(d.createCaption().innerHTML=p[c].cells[0].innerHTML),i=r.length-1;i>-1;i--)(s=p[c].cells[i+(l?1:0)])&&r[i].appendChild(s.cloneNode(!0))},column:function(e,n,o,t,l){var r,c,i,s,d,p=e.rows,f=p[0].cells;for(c=p.length-1;c>(l?0:-1);c--)o.insertRow(0).appendChild(p[c].cells[0].cloneNode(!0));for(c=f.length;--c;)for(d=a(o.cloneNode(!0),n),r=d.rows,l&&(d.createCaption().innerHTML=p[0].cells[c].innerHTML),i=r.length-1;i>-1;i--)(s=p[i+(l?1:0)].cells[c])&&r[i].appendChild(s.cloneNode(!0))},separator:function(e,n,o,t,l){var r,c,i,s,d,p,f,h,N=e.rows,u=N[0].cells;for(c=u.length-1;c>-1;c--){for(r=a(o.cloneNode(!0),n),f=r.insertRow(0),l?r.createCaption().innerHTML=u[c].innerHTML:f.appendChild(u[c].cloneNode(!0)),p=u[c].colSpan,i=N.length;--i;)for(r.insertRow(1),d=t,s=p-1;s>-1;s--)(h=N[i].cells[t-p+s])&&a(h.cloneNode(!0),r.rows[1]);t-=p}}};e.retable=o,n.addEventListener("DOMContentLoaded",function(){o("."+c)})}(window,document);